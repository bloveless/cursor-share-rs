#########################################################################
################################ BUILDER ################################
#########################################################################

FROM rust:1.50-slim-buster AS builder

WORKDIR /app

COPY . /app/

RUN cargo build --release

#########################################################################
################################ RELEASE ################################
#########################################################################

FROM debian:buster-slim

WORKDIR /app

COPY ./static /app/static/

COPY --from=builder /app/target/release/cursor-share-rs /app/

CMD [ "/app/cursor-share-rs" ]
